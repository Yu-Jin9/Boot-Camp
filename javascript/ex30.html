<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>map함수</title>
    <script>
      // 배열이(리스트) 전체 순환하면서 주어진 콜백함수를 통해
      // 새로운 배열을 생성하는 함수
      let arr = [10, 20, 30, 40, 50];
      // 전체요소 순환
      // 일반 For문
      for (let i = 0; i < arr.length; i++) {
        // 이때 i를 const로 선언하면 오류가 생김
        // i는 for문이 돎연서 값이 계속 바뀌기 때문
        console.log(arr[i]);
      }
      // For of 문
      for (const item of arr) {
        // 배열에서 값을 가져오는데 값이 바뀌지 않을 것 같을 때 const 사용
        console.log(item);
      }
      // forEach 함수
      arr.forEach(() => {});
      arr.forEach(function () {});
      // item : 해당회차의 아이템
      // index : 해당회차의 인덱스
      arr.forEach((item, index, array) => {
        console.log(item);
        console.log(index);
        console.log(array);
      });

      // map함수 : 원본배열은 변경이 없음. 새로운 배열을 반환.
      const newArr = arr.map((item) => {
        return item * 2;
      });
      console.log(newArr); // [20, 40, 60, 80, 100]
      // 화살표와 중괄호 생략 버전의 함수 선언
      // 실행문이 한 줄 일 때 생략 가능한 것 : 중괄호, return, 세미클론 생략 가능
      const newArr2 = arr.map((item) => item * 2);
      console.log(newArr);

      // map을 사용하면 이렇게 축약된 표현도 가능함
      let sqrt = arr.map(Math.sqrt);
      console.log(sqrt);
      let string = arr.map(String);
      console.log(string);
      let nums = arr.map(Number);
      console.log(nums);

      // 객체 배열 : (배열인데 객체가 들어가있는 배열)
      // 객체 배열에서 특정 값 추출
      const users = [
        { id: 1, name: "hong" },
        { id: 2, name: "park" },
        { id: 3, name: "lee" },
      ];
      const userNames = users.map((user) => user.name);
      console.log(userNames); //['hong', 'park', 'lee']

      // 위의 "const userNames = users.map((user) => user.name);"의
      // for of문 버전 (둘이 결과는 동일함)
      let newNames = [];
      for (const user of users) {
        newNames.push(user.name);
      }
      console.log(newNames); //['hong', 'park', 'lee']

      // 문자열 배열 반환
      const upperNames = userNames.map((name) => name.toUpperCase());
      console.log(upperNames);

      // 조건문 사용
      const newArr3 = arr.map((number) => (number > 30 ? 1 : 0));
      console.log(newArr3); // [0,0,0,1,1]
    </script>
  </head>
  <body></body>
</html>
