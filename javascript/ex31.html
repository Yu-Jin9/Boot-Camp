<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>reduce 함수</title>
    <script>
      // reduse(줄이다) : 하나의 값으로 반환.
      // reduce (callback, 초기값)

      const nums = [10, 20, 30, 40, 50];
      // 배열의 총합
      let total = 0;
      for (const num of nums) {
        total = total + num;
      }
      console.log(total);

      // pre(acc) : 이전값, 누적값(최종반환값)
      // cur : 현재 요소 값
      let sum = nums.reduce((pre, cur) => {
        // pre 값이 배열의 1번째 요소값임
        // cur 값이 배열의 2번째 요소값임
        console.log(pre, cur); // 10 20 -> 30 30 -> 06 40 -> 100 50
        return pre + cur;
      });
      console.log(sum);

      sum = nums.reduce((pre, cur, index, arr) => {
        console.log(pre, cur, index, arr); // 0 10 0 []
        return pre + cur;
      }, 0); // 두 번째 인자에 pre의 초기값을 준다.

      // 최대값 구하기
      let max = Number.MIN_SAFE_INTEGER; //number가 가질 수 있는 최소값을 셋팅
      for (const num of nums) {
        if (max < num) {
          max = num;
        }
      }
      console.log(max);

      max = nums.reduce((acc, cur) => {
        return acc > cur ? acc : cur;
      });
      // acc : 누적값 , cur : 현재 요소

      console.log(max);

      // 알파벳 갯수 수하기
      const alphabets = ["a", "a", "c", "c", "c"];
      // 결과값 {a:2, c:3}
      let cnt = alphabets.reduce((acc, cur) => {
        // acc = { } : 누적값 (빈도수를 저장할 객체),
        // cur = "a" : 현재 순회 중인 배열의 요소
        if (acc[cur]) {
          acc[cur] += 1; // {a : 2}
        } else {
          acc[cur] = 1; // acc['a'] = 1 => { a : 1 }
        }
        return acc;
      }, {});
    </script>
  </head>
  <body></body>
</html>
