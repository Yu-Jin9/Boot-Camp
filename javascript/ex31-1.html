<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>0121 연습문제 (1) - map, reduce</title>
    <script>
      //1번
      const users = [
        { id: 1, name: "Alice", age: 25 },
        { id: 2, name: "Bob", age: 30 },
        { id: 3, name: "Charlie", age: 35 },
      ];
      // 각 사용자의 이름만 추출한 배열을 생성하세요.
      // 출력결과 :  ["Alice", "Bob", "Charlie"]

      const userNames = users.map((user) => user.name);
      console.log(userNames);

      //2번
      const prices = [100, 200, 300];
      // 각 가격에 10%의 세금을 추가한 배열을 생성하세요.
      // 출력결과 : [110, 220, 330]
      const newPrices = prices.map((item) => {
        return (item = item + item * 0.1);
      });
      console.log(newPrices);

      //3번
      // flat(), flatMap() 함수를 사용해도 됨
      const matrix = [
        [1, 2, 3],
        [4, 5, 6],
        [7, 8, 9],
      ];
      // 각 숫자를 제곱한 1차원 배열을 만드세요.
      //출력결과 : [1, 4, 9, 16, 25, 36, 49, 64, 81]
      //힌트 : map함수 안에서 map함수 사용하기
      const newMatrix = matrix.map((row) => {
        // row : 2차원 배열의 행
        return row.map((value) => {
          return Math.pow(value, 2);
          // pow : 거듭 제곱
        });
      });
      const powMetrix = newMatrix.reduce((acc, cur) => {
        // reduce : 배열을 단일 값으로 줄임 (배열의 각 요소를 순회함) / 누적값, 현재값을 사용
        return acc.concat(cur);
        // concat : 원본 배열을 변경하지 x, 새로운 배열 반환
        //        : 하나 이상의 배열이나 값을 결합해 새로운 배열 생성
      }, []);
      console.log(powMetrix);

      //4번
      const orders = [
        { id: 1, items: [10, 20, 30] },
        { id: 2, items: [5, 15] },
        { id: 3, items: [100, 200] },
      ];
      // 각 주문의 ID와 총액(total)을 포함하는 배열을 만드세요.
      //출력결과 : [{ id: 1, total: 60 }, { id: 2, total: 20 }, { id: 3, total: 300 }]
      const totalArr = orders.map((row) => {
        const total = row.items.reduce((acc, cur) => acc + cur, 0);
        return { id: row.id, total };
      });
      console.log(totalArr);

      //reduce 문을 사용한 연습문제
      //5번
      const nums = [10, 20, 30, 40, 50];
      //reduce 함수를 이용하여, 35보다 큰 숫자의 갯수를 출력하시오.
      // 출력예) 2
      let cnt = 0;
      const maxNum = nums.reduce((acc, cur) => {
        return (cnt = cur > 35 ? 1 : 0);
      }, 0);
      console.log(maxNum);

      //6번
      //2.reduce 함수를 이용하여, 배열의 문자열 길이를 구하시오.
      const strings = ["hong", "lee", "imdan"];
      //출력예) [4,3,5]
    </script>
  </head>
  <body></body>
</html>
